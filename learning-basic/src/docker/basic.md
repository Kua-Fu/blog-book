# basic

## 一、参考

> [docker——从入门到实践](https://yeasy.gitbook.io/docker_practice/)


## 二、基本概念

|序号|名称|说明|其他|
|---|---|---|---|
|1 | `Image` 镜像|就相当于是一个 `root` 文件系统。比如官方镜像 `ubuntu:18.04` 就包含了完整的一套 `Ubuntu 18.04` 最小系统的 `root` 文件系统||
|2|`Container` 容器|镜像（`Image`）和容器（`Container`）的关系，就像是面向对象程序设计中的 类 和 实例 一样，镜像是静态的定义，容器是镜像运行时的实体。容器可以被创建、启动、停止、删除、暂停等||
|3|`Repository` 仓库|通常，一个仓库会包含同一个软件不同版本的镜像，而标签就常用于对应该软件的各个版本。我们可以通过 <仓库名>:<标签> 的格式来指定具体是这个软件哪个版本的镜像。如果不给出标签，将以 `latest` 作为默认标签。||
|4| `Tag` 标签|每个仓库可以包含多个 标签（`Tag`）；每个标签对应一个镜像||
|5| `Docker Registry`| 镜像构建完成后，可以很容易的在当前宿主机上运行，但是，如果需要在其它服务器上使用这个镜像，我们就需要一个集中的存储、分发镜像的服务，`Docker Registry` 就是这样的服务||
|6| `IMAGE ID` 镜像 ID|镜像 ID 则是镜像的唯一标识，一个镜像可以对应多个 标签||
|7 |`dangling image` 虚悬镜像|镜像既没有仓库名，也没有标签，均为 `<none>`||
|8| 中间层镜像| 为了加速镜像构建、重复利用资源，Docker 会利用 中间层镜像。所以在使用一段时间后，可能会看到一些依赖的中间层镜像||

## 三、基本命令

|序号|名称|说明|其他|
|---|---|---|---|
|1| `docker pull` | 获取镜像 `docker pull [选项] [Docker Registry 地址[:端口号]/]仓库名[:标签]`|`docker pull ubuntu:18.04`|
|2| `docker run -it --rm ubuntu:18.04 bash`| 有了镜像后，我们就能够以这个镜像为基础启动并运行一个容器。以上面的 `ubuntu:18.04` 为例，如果我们打算启动里面的 `bash` 并且进行交互式操作的话，可以执行下面的命令||
|3| `docker image ls`|列出已经下载下来的镜像 ||
|4 |`docker system df`|查看镜像、容器、数据卷所占用的空间||


## 四、运行容器

### 4.1 docker run

`docker run -it --rm ubuntu:18.04 bash`

|序号|参数|说明|其他|
|---|---|---|---|
|1 | `-it`| 这是两个参数，一个是 `-i` 交互式操作，一个是 `-t` 终端||
|2| `--rm` | 这个参数是说容器退出后随之将其删除|默认情况下，为了排障需求，退出的容器并不会立即删除，除非手动 docker rm。我们这里只是随便执行个命令，看看结果，不需要排障和保留结果，因此使用 --rm 可以避免浪费空间|
|3| `bash`| 放在镜像名后的是 命令，这里我们希望有个交互式`Shell`，因此用的是 `bash`||


